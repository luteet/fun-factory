const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),nav=document.querySelector(".header__nav"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header");function Popup(e){let t=document.querySelector("body"),i=document.querySelector("html"),o="object"==typeof e&&!!e.saveID,r=!0,l=!0;const n=function(e,l){if(r){r=!1;let n=document.querySelector(e);if(!n)return new Error(`Not found "${e}"`);n.classList.contains("popup")&&(t.classList.remove("_popup-active"),i.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),o&&history.pushState("","",e),setTimeout(()=>{if(l)n.classList.add("_transition-none"),n.classList.add("_active"),r=!0;else{n.classList.add("_active"),n.addEventListener("transitionend",(function e(){r=!0,n.removeEventListener("transitionend",e)}))}},0))}},s=function(e){if(l){let r;l=!1,r="string"==typeof e?document.querySelector(e):e.closest(".popup"),r.classList.contains("_transition-none")&&r.classList.remove("_transition-none"),setTimeout(()=>{r.classList.remove("_active"),r.addEventListener("transitionend",(function e(){const n=document.querySelectorAll(".popup._active");n.length<1&&(t.classList.remove("_popup-active"),i.style.setProperty("--popup-padding","0px")),o&&(!function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),n[n.length-1]&&history.pushState("","","#"+n[n.length-1].getAttribute("id"))),l=!0,r.removeEventListener("transitionend",e)}))},0)}};return{open:function(e){n(e)},close:function(e){s(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let i=e.closest(".open-popup");i&&(t.preventDefault(),n(i.getAttribute("href")));let o=e.closest(".popup-close");o&&s(o)})),t.addEventListener("keyup",(function(e){27==e.code&&document.querySelector(".popup._active")&&s(document.querySelector(".popup._active"))})),o){let e=new URL(window.location),t=new URL(window.location);t.search="",e.hash=e.hash.split("?")[0],(e.hash==t.hash&&0==e.hash.indexOf("#")||e.hash.length<t.hash.length&&0==e.hash.indexOf("#"))&&n(e.hash,!0)}}}}const popup=new Popup;popup.init();const imageAspectRatio=document.querySelectorAll(".image-aspect-ratio, figure");let gallery3Slider,galleryPopupSlider;if(imageAspectRatio.forEach(e=>{const t=e.querySelector("img"),i=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==i.position&&(e.style.setProperty("--padding-aspect-ratio",Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%"),e.style.setProperty("--aspect-ratio","1/"+Number(t.getAttribute("height"))/Number(t.getAttribute("width"))))}),document.querySelector(".gallery-3__slider")&&document.querySelector(".gallery-popup__slider")){gallery3Slider=new Splide(".gallery-3__slider",{type:"loop",autoWidth:!0,gap:20,pagination:!1,speed:700,easing:"ease",updateOnMove:!0,isNavigation:!0,direction:"rtl"==html.getAttribute("dir")?"rtl":"ltr"}),galleryPopupSlider=new Splide(".gallery-popup__slider",{type:"loop",focus:"center",autoWidth:!0,gap:20,pagination:!1,arrows:!1,speed:700,easing:"ease",updateOnMove:!0,isNavigation:!0,direction:"rtl"==html.getAttribute("dir")?"rtl":"ltr"}),gallery3Slider.root.querySelectorAll(".gallery-3__image").forEach((e,t)=>{e.setAttribute("data-index",t)});const e=galleryPopupSlider.root.closest(".popup").querySelector(".gallery-popup__length span");galleryPopupSlider.on("mounted moved",(function(){"rtl"==html.getAttribute("dir")?e.textContent=`${galleryPopupSlider.length}/${galleryPopupSlider.index+1}`:e.textContent=galleryPopupSlider.index+1+"/"+galleryPopupSlider.length}));let t=gallery3Slider.root.querySelector(".slider-pages-length");gallery3Slider&&gallery3Slider.on("mounted moved",(function(e){"rtl"==html.getAttribute("dir")?t.textContent=`${gallery3Slider.length}/${gallery3Slider.index+1}`:t.textContent=`${gallery3Slider.index+1}/${gallery3Slider.length}`})),gallery3Slider.sync(galleryPopupSlider),gallery3Slider.mount(),galleryPopupSlider.mount(),galleryPopupSlider.go(0)}body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")});const i=t(".header__nav--list > li > button");i?(document.querySelector(".header__nav--list > li > button.is-active")&&document.querySelector(".header__nav--list > li > button.is-active").classList.remove("is-active"),i.classList.add("is-active"),nav.classList.add("menu-level-1"),nav.scrollTo({left:0,top:0})):t(".header__nav--list > li")?t(".header__nav--list > li > a")&&document.querySelector(".header__nav--list > li > button.is-active")&&(nav.classList.remove("menu-level-1"),document.querySelector(".header__nav--list > li > button.is-active").classList.remove("is-active")):document.querySelector(".header__nav--list > li > button.is-active")&&(nav.classList.remove("menu-level-1"),document.querySelector(".header__nav--list > li > button.is-active").classList.remove("is-active"));const o=t(".header__nav--list > li > div > ul > li > ul > li > a");o?o.parentElement.querySelector("ul")&&(o.classList.contains("is-active")||(document.querySelector(".header__nav--list > li > div > ul > li > ul > li > a.is-active")&&document.querySelector(".header__nav--list > li > div > ul > li > ul > li > a.is-active").classList.remove("is-active"),nav.classList.add("menu-level-2"),document.querySelector(".header__nav--list > li > div").scroll({left:0,top:0}),e.preventDefault(),o.classList.add("is-active"))):document.querySelector(".header__nav--list > li > div > ul > li > ul > li > a.is-active")&&!t(".header__nav--list > li > div > ul > li > ul > li")&&(document.querySelector(".header__nav--list > li > div > ul > li > ul > li > a.is-active").classList.remove("is-active"),nav.classList.remove("menu-level-2"));const r=t(".header__nav--list > li > div > button");if(r){r.closest(".header__nav--list > li").querySelector(".header__nav--list > li > button.is-active").classList.remove("is-active"),nav.classList.remove("menu-level-1")}const l=t(".header__nav--list > li > div > ul > li > ul > li > div > button");if(l){l.closest(".header__nav--list > li > div > ul > li > ul > li").querySelector(".header__nav--list > li > div > ul > li > ul > li > a.is-active").classList.remove("is-active"),nav.classList.remove("menu-level-2")}const n=t(".header__lang--target");n?n.classList.toggle("is-active"):!t(".header__lang")&&document.querySelector(".header__lang--target.is-active")&&document.querySelector(".header__lang--target.is-active").classList.remove("is-active");const s=t(".footer__nav > ul > li > button");s?s.classList.toggle("is-active"):t(".footer__nav")||document.querySelector(".footer__nav > ul > li > button.is-active")&&document.querySelector(".footer__nav > ul > li > button.is-active").classList.remove("is-active");let a=t(".scroll-to");if(a){let t;e.preventDefault(),t=!!a.getAttribute("href")&&document.querySelector(a.getAttribute("href")),menu.forEach(e=>{e.classList.remove("_mob-menu-active")}),t?t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}):body.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}const c=t(".services__see-more");if(c){c.closest("section").querySelector(".services__list").classList.add("is-active"),c.remove()}const d=t(".tariffs__card--learn-more");if(d){const e=d.closest(".tariffs__card");e.classList.toggle("is-more"),e.classList.contains("is-more")?d.querySelector("span").textContent=d.dataset.hideText:d.querySelector("span").textContent=d.dataset.moreText}const u=t(".courses__nav--btn");if(u&&(e.preventDefault(),!u.classList.contains("is-current"))){const e=u.closest("section").querySelector(".courses__block.is-active"),t=document.querySelector(u.getAttribute("href"));t&&e&&(u.closest(".courses__nav").querySelector(".is-active").classList.remove("is-active"),u.classList.add("is-active"),e.classList.add("fade-out"),setTimeout(()=>{t.querySelector(".desplode-circle")&&t.querySelectorAll(".desplode-circle").forEach(e=>{e.classList.remove("desplode-circle")}),e.classList.remove("is-active"),t.classList.remove("fade-out"),t.classList.add("is-active"),t.classList.add("fade-in"),document.querySelector(".btn-wrapper")&&document.querySelectorAll(".btn-wrapper").forEach(e=>{e.style.setProperty("--size",2*e.offsetWidth+"px")})},300))}const p=t(".faq__question");p&&(p.classList.contains("is-active")?p.classList.remove("is-active"):(p.closest(".faq__list").querySelector(".faq__question.is-active")&&p.closest(".faq__list").querySelector(".faq__question.is-active").classList.remove("is-active"),p.classList.add("is-active")));const g=t(".text-section__aside a");if(g){e.preventDefault();document.querySelector(g.getAttribute("href")).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),history.pushState("","",g.getAttribute("href"))}}));let windowSize=0;function resize(){document.querySelector(".btn-wrapper")&&document.querySelectorAll(".btn-wrapper").forEach(e=>{e.style.setProperty("--size",2*e.offsetWidth+"px")}),html.style.setProperty("--height-header",header.offsetHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),windowSize=window.innerWidth}if(resize(),window.addEventListener("resize",resize),document.querySelector(".hero__slider")){new Splide(".hero__slider",{type:"loop",drag:"free",focus:"center",perPage:1,gap:10,autoScroll:{speed:.5},direction:"rtl"==html.getAttribute("dir")?"rtl":"ltr",mediaQuery:"min",arrows:!1,pagination:!1,breakpoints:{550:{perPage:3},992:{perPage:4},1500:{perPage:5}}}).mount(window.splide.Extensions)}if(document.querySelector(".reviews__slider")){const e=new Splide(".reviews__slider",{type:"loop",perPage:1,perMove:1,gap:21,easing:"ease",pagination:!1,direction:"rtl"==html.getAttribute("dir")?"rtl":"ltr",mediaQuery:"min",breakpoints:{768:{perPage:2},992:{perPage:3}}});let t=e.root.querySelector(".slider-pages-length");t&&e.on("mounted moved",(function(i){"rtl"==html.getAttribute("dir")?t.textContent=`${e.length}/${e.index+1}`:t.textContent=`${e.index+1}/${e.length}`})),e.mount()}if(document.querySelector(".gallery__slider")&&document.querySelector(".gallery__pagination")){const e=new Splide(".gallery__pagination",{direction:"ttb",height:"100%",gap:8,autoHeight:!0,arrows:!1,pagination:!1,updateOnMove:!0,isNavigation:!0,rewind:!0});e.on("mounted moved",(function(){0==e.index?(e.root.classList.remove("is-end"),e.root.classList.add("is-start")):e.index==e.length-1?(e.root.classList.remove("is-start"),e.root.classList.add("is-end")):(e.root.classList.remove("is-end"),e.root.classList.remove("is-start"))}));const t=new Splide(".gallery__slider",{direction:"ttb",height:"447px",gap:21,speed:700,easing:"ease",rewind:!0,arrows:!0,pagination:!1,perPage:1,breakpoints:{992:{direction:"rtl"==html.getAttribute("dir")?"rtl":"ltr",height:"auto",gap:16},550:{}}});let i=t.root.querySelector(".slider-pages-length");i&&t.on("mounted moved",(function(e){"rtl"==html.getAttribute("dir")?i.textContent=`${t.length}/${t.index+1}`:i.textContent=`${t.index+1}/${t.length}`})),t.sync(e),t.mount(),e.mount()}if(document.querySelector(".our-partners__slider")){new Splide(".our-partners__slider",{type:"loop",perPage:1,gap:20,pagination:!1,arrows:!1,mediaQuery:"min",direction:"rtl"==html.getAttribute("dir")?"rtl":"ltr",autoScroll:{speed:.5},breakpoints:{768:{perPage:4},550:{perPage:2}}}).mount(window.splide.Extensions)}if(document.querySelector(".about-us__slider")){const e=new Splide(".about-us__slider",{type:"loop",autoWidth:!0,pagination:!1,speed:700,easing:"ease",gap:20,direction:"rtl"==html.getAttribute("dir")?"rtl":"ltr"});let t=e.root.querySelector(".slider-pages-length");t&&e.on("mounted moved",(function(i){"rtl"==html.getAttribute("dir")?t.textContent=`${e.length}/${e.index+1}`:t.textContent=`${e.index+1}/${e.length}`})),e.mount()}if(document.querySelector(".portfolio__slider")){const e=new Splide(".portfolio__slider",{type:"loop",autoWidth:!0,pagination:!1,speed:700,easing:"ease",gap:20,direction:"rtl"==html.getAttribute("dir")?"rtl":"ltr"});let t=e.root.querySelector(".slider-pages-length");e&&e.on("mounted moved",(function(i){"rtl"==html.getAttribute("dir")?t.textContent=`${e.length}/${e.index+1}`:t.textContent=`${e.index+1}/${e.length}`})),e.mount()}function getCoords(e){let t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,right:t.right+window.pageXOffset,bottom:t.bottom+window.pageYOffset,left:t.left+window.pageXOffset}}const getDeviceType=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};function btnPointerEnter(e){if("desktop"==getDeviceType()){var t=getCoords(e.target),i=e.pageX-t.left,o=e.pageY-t.top;e.target.nextElementSibling.style.setProperty("left",i+"px"),e.target.nextElementSibling.style.setProperty("top",o+"px"),e.target.nextElementSibling.classList.remove("desplode-circle"),e.target.nextElementSibling.classList.add("explode-circle")}}function btnPointerLeave(e){if("desktop"==getDeviceType()){var t=getCoords(e.target),i=e.pageX-t.left,o=e.pageY-t.top;e.target.nextElementSibling.style.setProperty("left",i+"px"),e.target.nextElementSibling.style.setProperty("top",o+"px"),e.target.nextElementSibling.classList.add("desplode-circle"),e.target.nextElementSibling.classList.remove("explode-circle")}}function btnHover(){document.querySelectorAll('.btn:not([aria-disabled="true"])').forEach(e=>{e.removeEventListener("pointerenter",btnPointerEnter),e.addEventListener("pointerenter",btnPointerEnter),e.removeEventListener("pointerleave",btnPointerLeave),e.addEventListener("pointerleave",btnPointerLeave)})}let headerNavBackgroundTimeout;btnHover(),document.querySelectorAll(".header__nav--list > li > button").forEach(e=>{e.addEventListener("pointerenter",(function(t){"desktop"==getDeviceType()&&e.classList.add("is-active")})),e.parentElement.addEventListener("pointerleave",(function(t){"desktop"==getDeviceType()&&e.classList.remove("is-active")}))});const cookiesBtn=document.querySelector(".cookies__btn"),cookies=document.querySelector(".cookies"),cookiesClose=document.querySelector(".cookies__close");cookiesBtn&&cookiesClose&&!localStorage.getItem("fun-factory-cookies")?setTimeout(()=>{cookies.classList.add("fade-in-2"),cookiesBtn.addEventListener("click",(function(){localStorage.setItem("fun-factory-cookies",!0),cookies.classList.add("fade-out-2"),cookies.classList.remove("fade-in-2")})),cookiesClose.addEventListener("click",(function(){cookies.classList.add("fade-out-2"),cookies.classList.remove("fade-in-2")}))},2e3):cookies&&cookies.remove();